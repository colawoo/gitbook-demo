### 1.HashMap
HashMap，顾名思义，是一种基于哈希函数实现的map，又被称为哈希表、散列表。它是基于快速存取的角度设计的，也是一种典型的空间换时间的做法。map表示一种一对一的映射关系，一个键对应一个值，键不可重复（重复的键只会存储最后一次的值）。它允许使用 null 值和 null 键。除了不同步和允许使用 null 之外，HashMap与Hashtable大致相同。该类是不能保证顺序的。由于使用哈希函数定位，所以它的存取非常高效。

- 基于数组、链表、红黑树和哈希函数实现。
- 允许使用null值和null键。
- 键值对是无序的，因为hash值随机。想要保证插入顺序可以使用LinkedHashMap。
- 除了不同步和允许使用 null 之外，HashMap与Hashtable大致相同。虽然Hashtable是同步的，但在多线程下建议使用ConcurrentHashMap替代。
- 因为使用哈希函数定位，存取的效率都很高，时间复杂度为O(1)。

### 2.HashMap扩容机制
扩容机制涉及到两个成员变量，扩容阈值和负载因子。扩容阈值=负载因子x容量。当我们向HashMap中添加元素的过程中，元素个数大于这个阈值，就会触发扩容机制。

### 3.HashMap 1.7与1.8的区别
- 1）数据结构：
	+ 1.7 数组+链表。
	+ 1.8 数组+链表+红黑树。当链表长度达到8的时候，就会将链表转成红黑树。时间复杂度从O(N)变成O(logN)，效率提高。
- 2）插入：
	+ 1.7 头插法，当出现哈希冲突时，使用一条单链表存储冲突的元素，将最新的元素插入到链表头。头插法容易出现环形链表死循环的问题。
	+ 1.8 尾插法，可以解决死循环的问题。

```java
static final int hash(Object key) {
	int h;
	return (key == null) ? 0 : (h = key.hashCode()) ^ (h >>> 16);
}
```
